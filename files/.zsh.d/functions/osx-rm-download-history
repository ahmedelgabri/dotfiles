# vim:ft=zsh:

function osx-rm-download-history {
  local db
  for db in ~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV*; do
    if grep -q 'LSQuarantineEvent' < <(sqlite3 "$db" .tables); then
      sqlite3 "$db" 'DELETE FROM LSQuarantineEvent; VACUUM'
    fi
  done
}

osx-rm-download-history "$@"
